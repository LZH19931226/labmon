<?xml version="1.0" encoding="UTF-8"?>
        <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hc.mapper.laboratoryFrom.UserAuthorInfoMapper">
<!-- 通用查询结果列-->
<!--<sql id="Base_Column_List">
    id, name, age
</sql>-->
<select id="selectUserAuthorPage" resultType="com.hc.model.ResponseModel.UserAuthInfoModel">
select
a.hospitalname,
b.userid,
b.username,
(select count(*) from userequipmentright where userid = b.userid and equipmentitem = '1') environment, -- 环境
(select count(*) from userequipmentright where userid = b.userid and equipmentitem = '2') incubator,  -- 培养箱
(select count(*) from userequipmentright where userid = b.userid and equipmentitem = '3') nitrogen,  -- 液氮罐
(select count(*) from userequipmentright where userid = b.userid and equipmentitem = '4') refrigerator,  -- 冰箱
(select count(*) from userequipmentright where userid = b.userid and equipmentitem = '5') operationFloor,
(select count(*) from userequipmentright where userid = b.userid and equipmentitem = '6') UPS -- 市电
from hospitalofreginfo a inner join userright b on a.hospitalcode = b.hospitalcode order by a.hospitalname ,b.username desc
</select>




</mapper>